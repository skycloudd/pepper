---
source: src/main.rs
description: "func main() -> int =\n    takes_bin_op(neg, returns_bin_op())\n\nfunc takes_bin_op(un: func (int) -> int, bin: func (int, int) -> int) -> int =\n    bin(takes_un_op(un, 1), takes_un_op(un, 2))\n\nfunc returns_bin_op() -> func (int, int) -> int =\n    multiply\n\nfunc takes_un_op(op: func (int) -> int, n: int) -> int =\n    op(n)\n\nfunc neg(n: int) -> int =\n    -n\n\nfunc multiply(a: int, b: int) -> int =\n    a * b"
expression: mir
info: tests/mir/function_types.pr
snapshot_kind: text
---
functions:
  - name: 0
    params: []
    return_ty:
      Primitive: Int
    body:
      expr:
        Call:
          callee:
            expr:
              Variable: 1
            ty:
              Function:
                params:
                  - Function:
                      params:
                        - Primitive: Int
                      return_ty:
                        Primitive: Int
                  - Function:
                      params:
                        - Primitive: Int
                        - Primitive: Int
                      return_ty:
                        Primitive: Int
                return_ty:
                  Primitive: Int
          args:
            - expr:
                Variable: 4
              ty:
                Function:
                  params:
                    - Primitive: Int
                  return_ty:
                    Primitive: Int
            - expr:
                Call:
                  callee:
                    expr:
                      Variable: 2
                    ty:
                      Function:
                        params: []
                        return_ty:
                          Function:
                            params:
                              - Primitive: Int
                              - Primitive: Int
                            return_ty:
                              Primitive: Int
                  args: []
              ty:
                Function:
                  params:
                    - Primitive: Int
                    - Primitive: Int
                  return_ty:
                    Primitive: Int
      ty:
        Primitive: Int
  - name: 1
    params:
      - name: 6
        ty:
          Function:
            params:
              - Primitive: Int
            return_ty:
              Primitive: Int
      - name: 7
        ty:
          Function:
            params:
              - Primitive: Int
              - Primitive: Int
            return_ty:
              Primitive: Int
    return_ty:
      Primitive: Int
    body:
      expr:
        Call:
          callee:
            expr:
              Variable: 7
            ty:
              Function:
                params:
                  - Primitive: Int
                  - Primitive: Int
                return_ty:
                  Primitive: Int
          args:
            - expr:
                Call:
                  callee:
                    expr:
                      Variable: 3
                    ty:
                      Function:
                        params:
                          - Function:
                              params:
                                - Primitive: Int
                              return_ty:
                                Primitive: Int
                          - Primitive: Int
                        return_ty:
                          Primitive: Int
                  args:
                    - expr:
                        Variable: 6
                      ty:
                        Function:
                          params:
                            - Primitive: Int
                          return_ty:
                            Primitive: Int
                    - expr:
                        Int: 1
                      ty:
                        Primitive: Int
              ty:
                Primitive: Int
            - expr:
                Call:
                  callee:
                    expr:
                      Variable: 3
                    ty:
                      Function:
                        params:
                          - Function:
                              params:
                                - Primitive: Int
                              return_ty:
                                Primitive: Int
                          - Primitive: Int
                        return_ty:
                          Primitive: Int
                  args:
                    - expr:
                        Variable: 6
                      ty:
                        Function:
                          params:
                            - Primitive: Int
                          return_ty:
                            Primitive: Int
                    - expr:
                        Int: 2
                      ty:
                        Primitive: Int
              ty:
                Primitive: Int
      ty:
        Primitive: Int
  - name: 2
    params: []
    return_ty:
      Function:
        params:
          - Primitive: Int
          - Primitive: Int
        return_ty:
          Primitive: Int
    body:
      expr:
        Variable: 5
      ty:
        Function:
          params:
            - Primitive: Int
            - Primitive: Int
          return_ty:
            Primitive: Int
  - name: 3
    params:
      - name: 8
        ty:
          Function:
            params:
              - Primitive: Int
            return_ty:
              Primitive: Int
      - name: 9
        ty:
          Primitive: Int
    return_ty:
      Primitive: Int
    body:
      expr:
        Call:
          callee:
            expr:
              Variable: 8
            ty:
              Function:
                params:
                  - Primitive: Int
                return_ty:
                  Primitive: Int
          args:
            - expr:
                Variable: 9
              ty:
                Primitive: Int
      ty:
        Primitive: Int
  - name: 4
    params:
      - name: 10
        ty:
          Primitive: Int
    return_ty:
      Primitive: Int
    body:
      expr:
        Intrinsic:
          NegInt:
            expr:
              expr:
                Variable: 10
              ty:
                Primitive: Int
      ty:
        Primitive: Int
  - name: 5
    params:
      - name: 11
        ty:
          Primitive: Int
      - name: 12
        ty:
          Primitive: Int
    return_ty:
      Primitive: Int
    body:
      expr:
        Intrinsic:
          MulInts:
            lhs:
              expr:
                Variable: 11
              ty:
                Primitive: Int
            rhs:
              expr:
                Variable: 12
              ty:
                Primitive: Int
      ty:
        Primitive: Int

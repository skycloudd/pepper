---
source: src/main.rs
description: "func main() -> number =\n    bool_to_number(match_on_number(123) == 2)\n\nfunc bool_to_number(b: bool) -> number =\n    match b\n    | true => 1\n    | false => 0\n\nfunc match_on_number(x: number) -> number =\n    match x\n    | n where n < 100 => 1\n    | x where x < 200 => 2\n    | n => n"
expression: mir
info: tests/mir/match.pr
snapshot_kind: text
---
functions:
  - name: 0
    params: []
    return_ty:
      Primitive: Number
    body:
      expr:
        Call:
          callee:
            expr:
              Variable: 1
            ty:
              Function:
                params:
                  - Primitive: Bool
                return_ty:
                  Primitive: Number
          args:
            - expr:
                Intrinsic:
                  EqNumbers:
                    lhs:
                      expr:
                        Call:
                          callee:
                            expr:
                              Variable: 2
                            ty:
                              Function:
                                params:
                                  - Primitive: Number
                                return_ty:
                                  Primitive: Number
                          args:
                            - expr:
                                Number: 123
                              ty:
                                Primitive: Number
                      ty:
                        Primitive: Number
                    rhs:
                      expr:
                        Number: 2
                      ty:
                        Primitive: Number
              ty:
                Primitive: Bool
      ty:
        Primitive: Number
  - name: 1
    params:
      - name: 3
        ty:
          Primitive: Bool
    return_ty:
      Primitive: Number
    body:
      expr:
        Match:
          expr:
            expr:
              Variable: 3
            ty:
              Primitive: Bool
          arms:
            - pattern:
                pattern_type:
                  Bool: true
                condition: ~
              body:
                expr:
                  Number: 1
                ty:
                  Primitive: Number
            - pattern:
                pattern_type:
                  Bool: false
                condition: ~
              body:
                expr:
                  Number: 0
                ty:
                  Primitive: Number
      ty:
        Primitive: Number
  - name: 2
    params:
      - name: 4
        ty:
          Primitive: Number
    return_ty:
      Primitive: Number
    body:
      expr:
        Match:
          expr:
            expr:
              Variable: 4
            ty:
              Primitive: Number
          arms:
            - pattern:
                pattern_type:
                  Variable: 5
                condition:
                  expr:
                    Intrinsic:
                      LtNumbers:
                        lhs:
                          expr:
                            Variable: 5
                          ty:
                            Primitive: Number
                        rhs:
                          expr:
                            Number: 100
                          ty:
                            Primitive: Number
                  ty:
                    Primitive: Bool
              body:
                expr:
                  Number: 1
                ty:
                  Primitive: Number
            - pattern:
                pattern_type:
                  Variable: 6
                condition:
                  expr:
                    Intrinsic:
                      LtNumbers:
                        lhs:
                          expr:
                            Variable: 6
                          ty:
                            Primitive: Number
                        rhs:
                          expr:
                            Number: 200
                          ty:
                            Primitive: Number
                  ty:
                    Primitive: Bool
              body:
                expr:
                  Number: 2
                ty:
                  Primitive: Number
            - pattern:
                pattern_type:
                  Variable: 7
                condition: ~
              body:
                expr:
                  Variable: 7
                ty:
                  Primitive: Number
      ty:
        Primitive: Number
